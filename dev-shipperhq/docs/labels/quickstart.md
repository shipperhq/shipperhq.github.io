---
sidebar_position: 20
slug: quickstart
title: Quickstart
tags: [labels, api, guide, quickstart]
---
import JWTAuth from '@site/docs/transclusion/_jwtauth.md' // This is an included file (see below the Error component)
import APIPlayground from '@site/docs/transclusion/_apiplayground.md' // This is an included file (see below the Error component)

This document is for technical architects and developers that need to integrate with ShipperHQ’s Labels API to build their own integration to generate and print shipping labels.

Note, this does not document the standard types and fields the API provides. This information is included in the Labels API Reference documentation, which is available to early access partners. Please [contact us](/contact) if interested..

As with all our APIs, our Labels API is implemented with GraphQL. If you're unfamiliar with GraphQL, see our [SDK Quickstart](/quickstart.md#graphql).

:::caution Early Access Program

The ShipperHQ Labels API is currently in closed Beta. ShipperHQ is looking for early access partners interested in participating in this program.
Please [contact us](/contact) if interested.

:::

:::info Pricing

Usage of the Labels API will not be free and its use is not covered by a base ShipperHQ subscription. A cost per label will be incurred when creating labels via this API. Exact pricing will be announced in future. [Contact us](/contact) for more information.

:::

:::info API Access Available on ShipperHQ Enterprise

Access to the ShipperHQ APIs requires a ShipperHQ Enterprise plan. You can check your current plan in [your ShipperHQ Dashboard](https://docs.shipperhq.com/subscription/#What_plan_am_I_on). If you're not currently on an Enterprise plan, please [contact us](https://shipperhq.com/contact) to review upgrade options.

***Note:*** This requirement does not apply to ShipperHQ Partners. Contact our [Partnerships team](https://shipperhq.com/contact) for more info.

:::

## Requirements
* ShipperHQ account with the [Generate Shipping Labels](https://docs.shipperhq.com/generate-shipping-labels/) Advanced Feature enabled
* An eCommerce platform or custom integration supporting the [`PlaceOrder`](labels/place-order.md) mutation of the [Labels API](labels/overview.md), either:
  * ShipperHQ’s native [Magento 2](https://docs.shipperhq.com/installing-magento-2-shipperhq-extension/), [BigCommerce](https://docs.shipperhq.com/setup-shipperhq-bigcommerce-store/), or [Shopify](https://docs.shipperhq.com/connect-shopify-shipperhq/) app installed on the eCommerce platform
  * A custom integration implementing both our [Rates API](rates/overview.md) and the [`PlaceOrder`](labels/place-order.md) mutation of our [Labels API](labels/overview.md)
* An account with at least one of the [carriers supported](#supported-carriers) by the ShipperHQ Labels API connected to your ShipperHQ account and configured to [allow label generation](https://docs.shipperhq.com/generate-shipping-labels/#Carrier_Configuration)

## Authentication
[//]: # (JWT Authentication)
[//]: # (This is an imported file - Do not modify directly this section)
[//]: # (Look for the import statement at the top of the file to have the path of the included file)
<JWTAuth doc="Labels" />

## Definitions

### Endpoint
| Protocol                      | Method | Body Encoding | Endpoint URL        |
| ---------------------------|---------------------|---------------------|---------------------|
| `HTTPS` | `POST` | `application/JSON` |  `https://postapi.shipperhq.com/v3/graphql/label` |

### Headers
| Header                      | Description         |
| ---------------------------|---------------------|
| `X-ShipperHQ-Secret-Token` | The JWT Secret token you have generated for your ShipperHQ account. |

### Operations
The ShipperHQ Labels API includes the following operations.

| Query                      | Description         |
| ---------------------------|---------------------|
| `placeOrder`     |	Used to indicate to ShipperHQ that a certain quote should be stored and associated with a given OrderNumer. See the [PlaceOrder Mutation Guide](place-order.md) for usage details. |
| `createLabel`    |	Creates and returns a shipping label. See [Creating Labels](#creating-labels) for usage details. |
| `createManifest`     |	Used to create a manifest required by certain carriers. See [Creating Manifests](#creating-manifests) for usage details. |
| `cancelLabel`     |	Cancels a given label that has been generated by ShipperHQ. See [Cancelling Labels](#cancelling-labels) for usage details. |

## Details

### Requested Services

The `requestedServices` field of `LabelPieceInput` is used to define specific add-on services to be used on a given package. Currently, `SIGNATURE_OPTION` is the only supported Requested Service. The values used vary by carrier as outlined below.

| Name                      | Values         |
| ---------------------------|---------------------|
| `SIGNATURE_OPTION` | <table><tr><th>FedEx Desc.</th><th>FedEx Value</th><th>UPS Desc.</th><th>UPS Value</th></tr><tr><td>Service Default</td><td>`SERVICE_DEFAULT`</td><td></td><td></td></tr><tr><td>No Signature Required</td><td>`NO_SIGNATURE_REQUIRED`</td><td>None</td><td>`null`</td></tr><tr><td>Indirect Signature Required</td><td>`INDIRECT`</td><td>Delivery Confirmation</td><td>`1`</td></tr><tr><td>Direct Signature Required</td><td>`DIRECT`</td><td>Signature Required</td><td>`2`</td></tr><tr><td>Adult Signature Required</td><td>`ADULT`</td><td>Adult Signature Required</td><td>`3`</td></tr></table> <br />**Note**: Default signature required options can be set on the carrier in the ShipperHQ dashboard. Use `SIGNATURE_OPTION` in `requestedServices` to override these defaults. |

### Label Formats and Stock

ShipperHQ can return a variety of label formats, sizes, and types. Additionally, we support formats intended for laser printers to be printed on standard paper as well as thermal label stock. These options are set [on the Carrier](https://docs.shipperhq.com/generate-shipping-labels/#Carrier_Configuration) in ShipperHQ. The specific options available vary by carrier but the options chosen will change the resulting label image returned by the Labels API.

### Carriers and Methods

The Labels API current supports UPS, FedEx, and USPS. The `carrierId` and `methodCode` fields identify the specific carrier and method, respectively, you're generated a label for. These fields are defined below.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `CarrierInput` | `carrierType` | The carrier type code for the selected carrier (e.g. `ups` or `fedEx`). |
| `CarrierInput` | `carrierCode` | Unique identifier for a specific instance of a [Carrier](https://docs.shipperhq.com/carrier-configuration/) in ShipperHQ. On the "Advanced" tab for each carrier you'll find its code. Note that it is possible to have multiple instances of the same carrier configured on a ShipperHQ account therefore it's important to ensure you're using the correct `carrierCode`. |
| `ShipmentDetailInput` | `shippingMethodCode` | Code for the specific service (shipping method) to be used. |

:::tip Choosing a carrier and method
While you can use any valid `carrierType`, `carrierCode`, and `shippingMethodCode` when requesting a label, not all services are available for all shipments. Therefore, it's generally best practice to use the values returned by the [Insights API](insights/overview.md).
:::

### Carrier Accounts

No account/billing information is included in Labels API requests. This is because ShipperHQ uses the account/billing information configured on the Carrier in ShipperHQ. The Carrier to use is indicated with the `carrierCode` field of `CarrierInput` in the request.

### Carrier Services

#### UPS

The Labels API currently supports the following types of UPS services:
* [UPS Ground and Air Domestic & International Small Package](https://docs.shipperhq.com/ups-carrier-setup/)
* [UPS Access Point](https://docs.shipperhq.com/ups-access-point-setup/)
* [UPS Ground with Freight Pricing](https://docs.shipperhq.com/ups-access-point-setup/)

:::note
ShipperHQ does not currently support producing labels for [UPS SurePost](https://docs.shipperhq.com/ups-carrier-setup/).
:::

#### FedEx

The Labels API currently supports the following types of FedEx services:
* [FedEx Ground & Home Delivery Small Package](https://docs.shipperhq.com/setup-fedex-carrier/)
* [FedEx Express Domestic & International Small Package](https://docs.shipperhq.com/setup-fedex-carrier/)
* [FedEx Hold at Location](https://docs.shipperhq.com/how-to-set-up-fedex-hold-at-location-as-a-carrier/)

:::note
ShipperHQ does not currently support producing labels for [FedEx Ground Economy](https://docs.shipperhq.com/setup-fedex-carrier/) or [FedEx Freight](https://docs.shipperhq.com/fedex-freight-carrier-setup/).
:::

#### USPS

The Labels API currently supports all standard USPS domestic and international services.

### International

Requirements for international shipments are generally more strict than domestic shipments. Therefore, certain fields are required that are not required for domestic shipments.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `LabelPieceInput` | `declaredValue` | Declared value of the package. |
| `CustomsDetailInput` | `itemDescription` | A general description of the item being shipped, used for customs declarations. |
| `CustomsDetailInput` | `weight` | The weight of the individual item, used for customs declarations. |
| `CustomsDetailInput` | `qty` | The quantity of the item included in the package, used for customs declarations. |
| `CustomsDetailInput` | `sku` | The item's SKU, used for customs declarations. |
| `CustomsDetailInput` | `countryOfOrigin` | The item's country of origin, used for customs declarations. |
| `CustomsDetailInput` | `descriptionForExport` | The reason given for the export of the item, used for customs declarations. |


:::danger Important

Customs declarations are governed by national and international law and contracts between shippers and carriers may also govern customs declarations. Any individual requesting a label via ShipperHQ for an international shipment accepts responsibility for any customs information provided and ensuring that all required declarations are made in the form required.

:::

### Pickup Services

When printing labels for pickup services (where the carrier will hold the package for the recipient to pick up from a carrier location), additional recipient details are required. These are in addition to the common recipient address information. Details for supported pickup services are described below.

#### UPS Access Point

UPS requires that for UPS Access Point shipments, both the customer (recipient) address is provided in the standard fields but also requires the following.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `RecipientInput` | `locationId` | Unique identifier for the UPS Access Point location, can be retrieved from the [Insights API](insights/overview.md). |
| `RecipientInput` | `pickupName` | The name of the UPS Access Point location, can be retrieved from the [Insights API](insights/overview.md). |
| `RecipientInput` | `pickupStreet1`<br />`pickupStreet2`<br />`pickupCity`<br />`pickupState`<br /> | Full address of the UPS Access Point location, can be retrieved from the [Insights API](insights/overview.md). |

#### FedEx Hold at Location

For FedEx Hold at Location shipments, the recipient address provided should be the address of the FedEx Hold at Location pickup location. FedEx also requires the following.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `RecipientInput` | `locationId` | Unique identifier for the FedEx Hold at Location location, can be retrieved from the [Insights API](insights/overview.md). |
| `RecipientInput` | `locationType` | Identifies if the location is a FedEx OnSite or FedEx Hold at Location location, can be retrieved from the [Insights API](insights/overview.md). |

## Usage

### Creating Labels

#### Key Label Request Elements

There are several elements which are key to accurately creating labels with ShipperHQ. In addition to these, specific carriers, carrier services, and types of shipments may require additional elements.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `sender` | `street`<br />`street2`<br />`city`<br />`region`<br />`zipcode`<br />`country` | The sender (ship-from) address. |
| `sender` | `originName` | The unique identifier (name) of the Origin configured in ShipperHQ. |
| `recipient` | `street`<br />`street2`<br />`city`<br />`region`<br />`zipcode`<br />`country` | The recipient (ship-to) address.  |
| `carrier` | `carrierType` | The carrier type code for the selected carrier (e.g. `ups` or `fedEx`). |
| `carrier` | `carrierCode` | Unique identifier for the specific Carrier defined in ShipperHQ to be used for this label, can be retrieved with [Insights API](insights/overview.md). |
| `shipmentDetail` | `shipmentId` | A unique alphanumeric string which will act as an identifier for any subsequent actions (e.g. cancel). |
| `shipmentDetail` | `shippingMethodCode` | Code for the specific service (shipping method) to be used, can be retrieved with [Insights API](insights/overview.md). |
| `shipmentInput` | `pieces` | Contains one or more packages included in this shipment for which you wish to create labels. |
| `pieces` | `referenceId` | The unique identifier for the package, can be retrieved with [Insights API](insights/overview.md). |
| `pieces` | `length`<br />`width`<br />`height`<br />`weight` | Package dimensions and weight are required for most shipments. |

#### Key Label Response Elements

The following at a minimum should be included in the requested response fields.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `LabelOutput` | `transactionId` | Unique identifier for the transaction assigned by ShipperHQ. Should be stored as a way to look up the transaction if needed for troubleshooting. |
| `Label` | `trackingId` | The carrier-assigned tracking number for this package and/or shipment. |
| `Label` | `shipmentId` | Unique identifier for the shipment. Can be used for further actions such as cancellation. |
| `Label` | `labelImage` | Returns the label in a base64 encoded string in the configured format. See [Label Formats and Stock](#label-formats-and-stock). |
| `Label` | `labelUrl` | If the label is not expected to be printed immediately, the returned URL may be used to access the label image digitally. |
| `Label` | `labelType` | The type of label returned. Commonly used for international services where the carrier may require different types of labels be printed for a single package and/or shipment. |
| `Label` | `copies` | Indicates the number of copies of the given label that should be printed. Commonly used for international shipments. |
| `Error` | `errorCode` | ShipperHQ Error Code which identifies a given error. See [Error Handling](#error-handling). |
| `Error` | `priority` | Identifies the priority of the error returned. See [Error Handling](#error-handling). |
| `Error` | `internalErrorMessage` | Provides details of the error. Not intended to be displayed to the end user but should be logged for troubleshooting. See [Error Handling](#error-handling). |
| `Error` | `externalErrorMessage` | Provides user friendly details of the error. Should be displayed to the end user. See [Error Handling](#error-handling). |

:::danger Important

The use of labels generated via ShipperHQ is governed by any agreements and/or contracts in place between the shipper and the carrier. A person requesting a label to be generated via ShipperHQ accepts responsibility for ensuring that any labels produced are used in accordance with applicable agreements.

:::

:::info Manifest Information

If the carrier requires a manifest be produced for shipments during a given period of time, certain data about each shipment should be stored to be sent in a subsequent `createManifest` request. See [Creating Manifests](#creating-manifests).

:::

### Creating Manifests

Certain carriers may require that certain shippers produce manifests for given sets of shipments (e.g. all shipments being picked up on a certain day by the carrier may need to be included on a manifest). The `createManifest` operation supports creation of these manifests.

#### Key Manifest Request Elements

A `createManifest` request will include one or more pieces which should be included in the manifest. For example, all shipments which will be picked up by the carrier on a given day.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `ManifestSenderInput` | `originName` | The unique identifier (name) of the Origin configured in ShipperHQ. |
| `CarrierInput` | `carrierCode` | Unique identifier for the specific Carrier used to produce this label. |
| `CarrierInput` | `carrierType` | The carrier type code for the selected carrier (e.g. `ups` or `fedEx`). |
| `ManifestPieceInput` | `carrierType` | The carrier type code for the selected carrier (e.g. `ups` or `fedEx`). |
| `ManifestPieceInput` | `carrierCode` | Unique identifier for the specific Carrier used to produce this label. |
| `ManifestPieceInput` | `shippingMethodCode` | Code for the specific service (shipping method) used. |
| `ManifestPieceInput` | `labelId` | Unique identifier for the label. |
| `ManifestPieceInput` | `referenceId` | The carrier-assigned tracking number for this package and/or shipment. |

:::info Multiple Carriers and Accounts

If multiple carriers or carrier accounts are being used, a separate `createManifest` request will be required for each carrier and account where a manifest is necessary.

:::

#### Key Manifest Response Elements

The following at a minimum should be included in the requested response fields. One or more `Manifest` items may be returned.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `ResponseSummary` | `transactionId` | Unique identifier for the transaction assigned by ShipperHQ. Should be stored as a way to look up the transaction if needed for troubleshooting. |
| `Manifest` | `manifestImage` | Printable base64 encoded image of the Manifest. |
| `Manifest` | `manifestUrl` | If the manifest is not expected to be printed immediately, the returned URL may be used to access the manifest image digitally. |
| `Manifest` | `manifestId` | Unique identifier for the manifest. |
| `Error` | `errorCode` | ShipperHQ Error Code which identifies a given error. See [Error Handling](#error-handling). |
| `Error` | `priority` | Identifies the priority of the error returned. See [Error Handling](#error-handling). |
| `Error` | `internalErrorMessage` | Provides details of the error. Not intended to be displayed to the end user but should be logged for troubleshooting. See [Error Handling](#error-handling). |
| `Error` | `externalErrorMessage` | Provides user friendly details of the error. Should be displayed to the end user. See [Error Handling](#error-handling). |

### Cancelling Labels

If a label will not be used it may be cancelled. Each carrier has specific limits on the length of time after it is generated that a label may be cancelled (generally at a minimum several days). The `cancelLabel` operation supports cancelling labels.

#### Key Cancellation Request Elements

A `cancelLabel` request will identify a single unique shipment to be cancelled. If multiple labels need to be cancelled, a separate `cancelLabel` request must be used for each.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `CancelLabelInfoInput` | `shipmentId` | Unique identifier for the shipment. |
| `CarrierInput` | `carrierType` | The carrier type code for the selected carrier (e.g. `ups` or `fedEx`). |
| `CarrierInput` | `carrierCode` | Unique identifier for the specific Carrier used to produce this label. |

#### Key Cancellation Response Elements

The following at a minimum should be included in the requested response fields. If no error is returned, the cancellation has been processed successfully.

| Parent Element | Element(s)                   | Notes         |
| ---------------------------| ---------------------------|---------------------|
| `CancelLabelOutput` | `transactionId` | Unique identifier for the transaction assigned by ShipperHQ. Should be stored as a way to look up the transaction if needed for troubleshooting. |
| `Error` | `errorCode` | ShipperHQ Error Code which identifies a given error. See [Error Handling](#error-handling). |
| `Error` | `priority` | Identifies the priority of the error returned. See [Error Handling](#error-handling). |
| `Error` | `internalErrorMessage` | Provides details of the error. Not intended to be displayed to the end user but should be logged for troubleshooting. See [Error Handling](#error-handling). |
| `Error` | `externalErrorMessage` | Provides user friendly details of the error. Should be displayed to the end user. See [Error Handling](#error-handling). |

## Integration Requirements

While very few elements are required for a successful API call to the Labels API, there are certain elements that are required in order to support certain features and functionality of ShipperHQ. Because of this, if you intend to make your integration of ShipperHQ's Labels API available to multiple clients we require support for certain elements. Meeting these requirements means your integration will support all of the most commonly used ShipperHQ features and functionality.

:::info
While we have endeavored to provide a complete list of requirements for a baseline integration of ShipperHQ, individual use cases may differ. Therefore, we always recommend contacting [Dev Support](/contact) prior to building a new integration.
:::

:::note
We don't require single-purpose, custom integrations to meet these requirements. However, we do strongly recommend that all integrations of the ShipperHQ Rates API do so in order to support the breadth of ShipperHQ's capabilities and to future-proof the integration against shipping needs that may change in the future.
:::

### General Requirements

The integration should:
- Provide clients with a UI for entering their ShipperHQ Account-specific API credentials and use those credentials in all API calls to ShipperHQ
- Send a unique value in the `X-ShipperHQ-Session` request header for each request

#### Error Handling
The integration should appropriately handle any `error` returned by the Labels API. See the [Errors](#errors) section of this doc for further details and for possible error codes and messages see the [Labels API FAQ](faq.md#what-are-possible-error-codes-and-messages).

### Additional Guidance

While the Labels API Reference contains all available fields, not all possible attributes are described in the current version of this guide. Some less-common attributes are not yet described. Contact [Dev Support](/contact) if you need assistance with any specific scenario or for additional guidance on best practices for your specific use case.

## Testing

### Test with the API Playground
[//]: # (API Playground)
[//]: # (This is an imported file - Do not modify directly this section)
[//]: # (Look for the import statement at the top of the file to have the path of the included file)
<APIPlayground doc="Labels" />

## Examples
Since the Labels API is implemented in GraphQL, you can retrieve as much information as you want or as little as you need. You'll find examples of both simple and more advanced Labels API requests and their associated responses as well as a Postman collection with pre-configured examples on the Examples doc.

[See Examples <i class="fa fa-arrow-right"></i>](examples.md)

## Errors
The ShipperHQ Labels API may return errors in an `error` object. If ShipperHQ encounters a general error processing a request (e.g. credentials issues, malformed request, etc.) an [error message](faq.md#what-are-possible-error-codes-and-messages) will be returned indicating the type of error encountered. In this case, your integration should appropriately display a user-friendly message. The values of the `errorCode` and `internalErrorMessage` are not intended to be displayed to end-users but are useful to log for troubleshooting.

For possible error codes and messages see the [Labels API FAQ](faq.md#what-are-possible-error-codes-and-messages).
