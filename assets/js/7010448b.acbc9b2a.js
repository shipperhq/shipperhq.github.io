"use strict";(self.webpackChunkdev_shipperhq=self.webpackChunkdev_shipperhq||[]).push([[6208],{3905:function(e,n,t){t.d(n,{Zo:function(){return h},kt:function(){return u}});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=i.createContext({}),p=function(e){var n=i.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},h=function(e){var n=p(e.components);return i.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},d=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),d=p(t),u=a,g=d["".concat(l,".").concat(u)]||d[u]||c[u]||r;return t?i.createElement(g,s(s({ref:n},h),{},{components:t})):i.createElement(g,s({ref:n},h))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,s=new Array(r);s[0]=d;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var p=2;p<r;p++)s[p]=t[p];return i.createElement.apply(null,s)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2795:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return h},default:function(){return d}});var i=t(7462),a=t(3366),r=(t(7294),t(3905)),s=["components"],o={sidebar_position:3},l="Shipping Insights Quickstart",p={unversionedId:"insight/quickstart",id:"insight/quickstart",isDocsHomePage:!1,title:"Shipping Insights Quickstart",description:"This document is intended for technical architects and developers that need to integrate with ShipperHQ\u2019s Shipping Insights API to build their own integration to retrieve shipment details from ShipperHQ.",source:"@site/docs/insight/quickstart.md",sourceDirName:"insight",slug:"/insight/quickstart",permalink:"/docs/insight/quickstart",editUrl:"https://github.com/shipperhq/shipperhq.github.io/tree/main/dev-shipperhq/docs/docs/insight/quickstart.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"ShippingInsights",previous:{title:"How Shipping Insights Works",permalink:"/docs/insight/how-shipping-insights-works"},next:{title:"Shipping Insights FAQ",permalink:"/docs/insight/faq"}},h=[{value:"GraphQL Shipping Insights API Benefits",id:"graphql-shipping-insights-api-benefits",children:[],level:2},{value:"Requirements",id:"requirements",children:[],level:2},{value:"Authentication",id:"authentication",children:[{value:"Generating an Access Token",id:"generating-an-access-token",children:[],level:3}],level:2},{value:"API Details",id:"api-details",children:[{value:"Endpoint",id:"endpoint",children:[],level:3},{value:"Request Headers",id:"request-headers",children:[],level:3},{value:"Errors",id:"errors",children:[],level:3}],level:2},{value:"Testing",id:"testing",children:[{value:"Enable Shipping Insights &amp; Retrieve Access Token",id:"enable-shipping-insights--retrieve-access-token",children:[],level:3},{value:"Place an Order",id:"place-an-order",children:[],level:3},{value:"Test with the Shipping Insights API Playground",id:"test-with-the-shipping-insights-api-playground",children:[],level:3}],level:2},{value:"Examples",id:"examples",children:[{value:"Basic Example",id:"basic-example",children:[],level:3},{value:"Extended Example",id:"extended-example",children:[],level:3}],level:2}],c={toc:h};function d(e){var n=e.components,t=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,i.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"shipping-insights-quickstart"},"Shipping Insights Quickstart"),(0,r.kt)("p",null,"This document is intended for technical architects and developers that need to integrate with ShipperHQ\u2019s Shipping Insights API to build their own integration to retrieve shipment details from ShipperHQ."),(0,r.kt)("p",null,"Use the information outlined in this document to view how custom fields and attributes are queried and modified."),(0,r.kt)("p",null,"Note, this does not document the standard types and fields the API provides. This information is included in the ",(0,r.kt)("a",{parentName:"p",href:"https://dev.shipperhq.com/order-view-service/"},"Shipping Insights")," API documentation or can be obtained via our GraphQL playground. Please refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://graphql.org/learn/"},"Introduction to GraphQL")," article from ",(0,r.kt)("a",{parentName:"p",href:"https://graphql.org"},"GraphQL.org")," for more information about GraphQL."),(0,r.kt)("h2",{id:"graphql-shipping-insights-api-benefits"},"GraphQL Shipping Insights API Benefits"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Flexibility: The GraphQL Shipping Insights API gives users the ability to access the details used to obtain the shipping rate and query what is most important to you and your business. As such, you can query 5 pieces of information or every possible field as you see fit."),(0,r.kt)("li",{parentName:"ul"},"Customization: The GraphQL Shipping Insights API gives users the ability to build their own integration into ShipperHQ to retrieve shipment details. For example, you can use it to get shipment information into your order processing system.")),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ShipperHQ account with the Shipping Insights Advanced Feature enabled"),(0,r.kt)("li",{parentName:"ul"},"An ecommerce platform or custom integration supporting the Place Order API, either:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"ShipperHQ\u2019s native Magento 2, BigCommerce, or Shopify app installed on the eCommerce platform"),(0,r.kt)("li",{parentName:"ul"},"A custom integration implementing both the ShipperHQ Rating API and the ShipperHQ Place Order API")))),(0,r.kt)("h2",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"The Shipping Insights API is accessed using a unique access token generated in a ShipperHQ account. Each access token is unique per website for multi-site ShipperHQ accounts."),(0,r.kt)("p",null,"Since Access Tokens are unique for each ShipperHQ account and website, Partners or Third Party integrations should include a mechanism for merchants to input their ShipperHQ Insights access token in the integration. Each ShipperHQ merchant will generate an access token on their ShipperHQ account in order to access the Shipping Insights API for their orders."),(0,r.kt)("h3",{id:"generating-an-access-token"},"Generating an Access Token"),(0,r.kt)("p",null,"To generate an access token in ShipperHQ:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Log into a ShipperHQ account"),(0,r.kt)("li",{parentName:"ul"},"Ensure the Shipping Insights Advanced Feature is enabled (under Advanced Features on the left-hand navbar)"),(0,r.kt)("li",{parentName:"ul"},"Click \u201cWebsites\u201d in the left-hand navbar and click the edit icon to edit the website which you wish to connect to"),(0,r.kt)("li",{parentName:"ul"},"Go to the \u201cIntegrations\u201d tab on the Website"),(0,r.kt)("li",{parentName:"ul"},"Under Shipping Insights, select Generate New Access Token")),(0,r.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Changing Live Access Tokens")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Generating a new Access Token invalidates any previously generated Access Tokens for that website. For this reason, this should not be done while in production unless absolutely necessary. Access Tokens should be kept secure and not exposed on any client facing code or committed to public code repositories."))),(0,r.kt)("h2",{id:"api-details"},"API Details"),(0,r.kt)("h3",{id:"endpoint"},"Endpoint"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protocol"),(0,r.kt)("th",{parentName:"tr",align:null},"Endpoint"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"POST")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://ovs.shipperhq.com"},"https://ovs.shipperhq.com"))))),(0,r.kt)("h3",{id:"request-headers"},"Request Headers"),(0,r.kt)("p",null,"The following headers are required for every Shipping Insights API call."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Header"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"X-ShipperHQ-Access-Token")),(0,r.kt)("td",{parentName:"tr",align:null},"The secret token retrieved from the ShipperHQ dashboard")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"X-ShipperHQ-Scope")),(0,r.kt)("td",{parentName:"tr",align:null},"The Scope for this ShipperHQ account (accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"LIVE"),",",(0,r.kt)("inlineCode",{parentName:"td"},"TEST"),",",(0,r.kt)("inlineCode",{parentName:"td"},"DEV")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"INT"),"). If unsure or if the ShipperHQ account does not have multiple scopes, use ",(0,r.kt)("inlineCode",{parentName:"td"},"LIVE"),".")))),(0,r.kt)("h3",{id:""}),(0,r.kt)("h3",{id:"errors"},"Errors"),(0,r.kt)("p",null,"TODO"),(0,r.kt)("h2",{id:"testing"},"Testing"),(0,r.kt)("p",null,"To test the Shipping Insights API you will need to already have either:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"ShipperHQ's native integration installed and enabled on Magento 2, BigCommerce, or Shopify"),(0,r.kt)("li",{parentName:"ol"},"A custom integration of the ShipperHQ Rating API and Place Order API")),(0,r.kt)("h3",{id:"enable-shipping-insights--retrieve-access-token"},"Enable Shipping Insights & Retrieve Access Token"),(0,r.kt)("p",null,"Within the ShipperHQ you wish to use enable the Shipping Insights Advanced Feature from the Advanced Features section of the dashboard. Then, retrieve the Shipping Insights Access Token from the Website on that account."),(0,r.kt)("h3",{id:"place-an-order"},"Place an Order"),(0,r.kt)("p",null,"Place an order on your eCommerce or custom platform. Note the Order Number since this will be used to retrieve Shipping Insights information."),(0,r.kt)("h3",{id:"test-with-the-shipping-insights-api-playground"},"Test with the Shipping Insights API Playground"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Navigate to the ShipperHQ GraphQL playground."),(0,r.kt)("li",{parentName:"ul"},"In a new GraphQL playground window, enter the Shipping Insights API Endpoint URL into the URL bar."),(0,r.kt)("li",{parentName:"ul"},"Click the Docs button."),(0,r.kt)("li",{parentName:"ul"},"Click the Reload Docs icon."),(0,r.kt)("li",{parentName:"ul"},"Click the Query link to view a list of available queries and the arguments and fields you can include in your request.")),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,"Since the Shipping Insights API is implemented in GraphQL, you can retrieve as much information as you want or as little as you need. Below you'll find examples of both simple and more advanced Shipping Insights requests."),(0,r.kt)("h3",{id:"basic-example"},"Basic Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Basic Example Request"',title:'"Basic',Example:!0,'Request"':!0},'query Order {\n  viewOrder(orderNumber: "000000008") {\n    shipments {\n      id\n      shipmentDetail {\n        shipmentId\n        name\n      }\n      carriers {\n          carrierDetail {\n              carrierCode\n              carrierTitle\n              carrierType\n          }\n        methods {\n          methodDetails {\n            methodCode\n            methodTitle\n            totalCharges\n            currency\n            negotiatedRate\n          }\n        }\n        packages {\n          packageDetail {\n            height\n            length\n            width\n            weight\n            packingWeight\n            packageName\n            surchargePrice\n          }\n          items {\n            sku\n            qtyPacked\n            weightPacked\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Basic Example Response"',title:'"Basic',Example:!0,'Response"':!0},'{\n    "data": {\n        "viewOrder": [\n            {\n                "shipments": [\n                    {\n                        "id": "ckzyb31g7n82f0i94w7lizy6q",\n                        "shipmentDetail": {\n                            "shipmentId": "83529",\n                            "name": "Austin Warehouse"\n                        },\n                        "carriers": [\n                            {\n                                "carrierDetail": {\n                                    "carrierCode": "shqups",\n                                    "carrierTitle": "UPS\xae",\n                                    "carrierType": "ups"\n                                },\n                                "methods": [\n                                    {\n                                        "methodDetails": {\n                                            "methodCode": "GND",\n                                            "methodTitle": "UPS Ground\xae",\n                                            "totalCharges": 41.93,\n                                            "currency": "USD",\n                                            "negotiatedRate": true\n                                        }\n                                    }\n                                ],\n                                "packages": [\n                                    {\n                                        "packageDetail": {\n                                            "height": 5,\n                                            "length": 4,\n                                            "width": 2,\n                                            "weight": 1.2,\n                                            "packingWeight": null,\n                                            "packageName": "Standard Box",\n                                            "surchargePrice": 0\n                                        },\n                                        "items": [\n                                            {\n                                                "sku": "Graphic T-Shirt",\n                                                "qtyPacked": 2,\n                                                "weightPacked": 1.2\n                                            }\n                                        ]\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n}\n')),(0,r.kt)("h3",{id:"extended-example"},"Extended Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Extended Example Request"',title:'"Extended',Example:!0,'Request"':!0},'query Order {\n  viewOrder(orderNumber: "000000009") {\n    orderNumber\n    createdAt\n    shipments {\n      id\n      shipmentDetail {\n        shipmentId\n        name\n        description\n      }\n      carriers {\n        carrierDetail {\n            carrierCode\n            carrierTitle\n            carrierType\n        }\n        methods {\n          id\n          methodDetails {\n            methodCode\n            methodTitle\n            totalCharges\n            currency\n            negotiatedRate\n          }\n          timeInTransitOptions {\n            dispatchDate\n            deliveryDate\n          }\n          selectedOptions {\n              name\n              value\n          }\n        }\n        packages {\n          packageDetail {\n            declaredValue\n            height\n            length\n            width\n            weight\n            packingWeight\n            packageName\n            surchargePrice\n          }\n          items {\n            sku\n            qtyPacked\n            weightPacked\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Extended Example Response"',title:'"Extended',Example:!0,'Response"':!0},'{\n    "data": {\n        "viewOrder": [\n            {\n                "orderNumber": "000000009",\n                "createdAt": "2022-02-22T15:52:11.285Z",\n                "shipments": [\n                    {\n                        "id": "ckzyb31g7nl5k8i94w7lizy6q",\n                        "shipmentDetail": {\n                            "shipmentId": "83729",\n                            "name": "Boston Warehouse",\n                            "description": null\n                        },\n                        "carriers": [\n                            {\n                                "carrierDetail": {\n                                    "carrierCode": "shqyrc",\n                                    "carrierTitle": "YRC Freight",\n                                    "carrierType": "yrcFreight"\n                                },\n                                "methods": [\n                                    {\n                                        "id": "ckzyb31g9nl5o0x67ecdcm2dr",\n                                        "methodDetails": {\n                                            "methodCode": "LTL",\n                                            "methodTitle": "YRC LTL Freight",\n                                            "totalCharges": 217,\n                                            "currency": "USD",\n                                            "negotiatedRate": false\n                                        },\n                                        "timeInTransitOptions": {\n                                            "dispatchDate": "",\n                                            "deliveryDate": ""\n                                        },\n                                        "selectedOptions": []\n                                    }\n                                ],\n                                "packages": [\n                                    {\n                                        "packageDetail": {\n                                            "declaredValue": 0,\n                                            "height": 40,\n                                            "length": 48,\n                                            "width": 24,\n                                            "weight": 250,\n                                            "packingWeight": null,\n                                            "packageName": "Standard Pallet - 2 foot",\n                                            "surchargePrice": 0\n                                        },\n                                        "items": [\n                                            {\n                                                "sku": "Heavy Duty Wok Range",\n                                                "qtyPacked": 2,\n                                                "weightPacked": 250\n                                            }\n                                        ]\n                                    },\n                                    {\n                                        "packageDetail": {\n                                            "declaredValue": 0,\n                                            "height": 48,\n                                            "length": 60,\n                                            "width": 40,\n                                            "weight": 300,\n                                            "packingWeight": null,\n                                            "packageName": "Standard Pallet - 5 foot",\n                                            "surchargePrice": 0\n                                        },\n                                        "items": [\n                                            {\n                                                "sku": "Piano",\n                                                "qtyPacked": 1,\n                                                "weightPacked": 300\n                                            }\n                                        ]\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n}\n')))}d.isMDXComponent=!0}}]);