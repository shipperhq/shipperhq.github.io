"use strict";(self.webpackChunkdev_shipperhq=self.webpackChunkdev_shipperhq||[]).push([[5123],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(t),m=i,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||a;return t?r.createElement(h,o(o({ref:n},u),{},{components:t})):r.createElement(h,o({ref:n},u))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7834:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var r=t(3117),i=t(102),a=(t(7294),t(3905)),o=["components"],l={sidebar_position:3,slug:"examples",title:"Examples",tags:["rates","api","guide","examples"]},s=void 0,p={unversionedId:"rates/examples",id:"rates/examples",title:"Examples",description:"Below you'll find a number of examples covering various uses cases for the Rates API. You'll also find a Postman collection that can be downloaded.",source:"@site/docs/rates/examples.md",sourceDirName:"rates",slug:"/rates/examples",permalink:"/docs/rates/examples",tags:[{label:"rates",permalink:"/docs/tags/rates"},{label:"api",permalink:"/docs/tags/api"},{label:"guide",permalink:"/docs/tags/guide"},{label:"examples",permalink:"/docs/tags/examples"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,slug:"examples",title:"Examples",tags:["rates","api","guide","examples"]},sidebar:"Rating",previous:{title:"Quickstart",permalink:"/docs/rates/quickstart"},next:{title:"FAQ",permalink:"/docs/rates/faq"}},u={},c=[{value:"Postman Collection",id:"postman-collection",level:2},{value:"Usage",id:"usage",level:3},{value:"Example Scenarios",id:"example-scenarios",level:2},{value:"<code>retrieveShippingQuote</code>",id:"retrieveshippingquote",level:2},{value:"Basic Quote Example Request",id:"basic-quote-example-request",level:3},{value:"Rate Response Example",id:"rate-response-example",level:3},{value:"<code>retrieveFullShippingQuote</code>",id:"retrievefullshippingquote",level:2},{value:"Example Variables",id:"example-variables",level:3},{value:"Additional Examples",id:"additional-examples",level:2},{value:"Example: Retrieve shipping quote with scheduling option",id:"example-retrieve-shipping-quote-with-scheduling-option",level:3},{value:"Example: Rate request for LTL carriers",id:"example-rate-request-for-ltl-carriers",level:3},{value:"Example: Rate breakdown for multiple shipments or origins",id:"example-rate-breakdown-for-multiple-shipments-or-origins",level:3}],d={toc:c};function m(e){var n=e.components,t=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Below you'll find a number of examples covering various uses cases for the Rates API. You'll also find a Postman collection that can be downloaded."),(0,a.kt)("h2",{id:"postman-collection"},"Postman Collection"),(0,a.kt)("p",null,"Our Postman collection contains pre-configured examples you can use to get started with testing as quickly as possible. Postman is a tool for easily interacting with APIs. If you don't have the Postman app installed already, you can ",(0,a.kt)("a",{parentName:"p",href:"https://www.postman.com/downloads/"},"download it")," from Postman."),(0,a.kt)("p",null,(0,a.kt)("a",{target:"_blank",href:"/examples/shipperhq-rates.postman_collection.json",download:"shipperhq-rates.postman_collection.json"},"Download the ShipperHQ Rates API Collection ",(0,a.kt)("i",{class:"fa fa-arrow-right"}))),(0,a.kt)("h3",{id:"usage"},"Usage"),(0,a.kt)("p",null,"Once you have Postman installed and have downloaded the ShipperHQ Rates API Collection, open Postman, click File > Import, and choose the ShipperHQ Rates collection. This will import the collection and the examples included in it."),(0,a.kt)("p",null,"You will need to set up your credentials within the collection by clicking on the Collection in the Postman Collections list, clicking Variables, entering your API Key and Authentication Code, and clicking the \"Save\" icon. You'll also want to confirm your Website Scope is LIVE or, if not, change it to the appropriate scope. Now, by choosing any of the examples you'll be able to run Rates API requests."),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Credentials")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Since the Rates API requires a JWT Token in order to run requests, our Postman collection is set up with a Pre-request Script that automatically generates a token for you using the API Key and Authentication Code you've set up whenever you run a Rates API requests within the collection. You can see this script by clicking on the Collection and clicking Pre-request Script. Note that when you integrate the Rates API into your own system, you'll need to make this call yourself."))),(0,a.kt)("h2",{id:"example-scenarios"},"Example Scenarios"),(0,a.kt)("h2",{id:"retrieveshippingquote"},(0,a.kt)("inlineCode",{parentName:"h2"},"retrieveShippingQuote")),(0,a.kt)("p",null,"This is an MVP example that returns the most critical information. It does not include multi-origin or any other advanced functionality but does include the ",(0,a.kt)("inlineCode",{parentName:"p"},"shipperhq_shipping_group")," item attribute. See the Detailed Rates API Example portion of this document for a more detailed example."),(0,a.kt)("h3",{id:"basic-quote-example-request"},"Basic Quote Example Request"),(0,a.kt)("p",null,'If there are multiple shipments/warehouses they will be simplified into a single "merged" carrier. This makes this call suitable for use in platforms that expect a single shipping method per order.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},'query retrieveShippingQuote {\n   retrieveShippingQuote(ratingInfo: {\n    cart: {\n      items: [\n        {\n          itemId: "12"\n          sku: "tables"\n          storePrice: 12.00\n          weight: 1.00\n          qty:1\n          type: SIMPLE\n          attributes:[\n              {\n                name:"shipperhq_shipping_group",\n                value:"bulky"\n              }\n            ],\n        }\n      ]\n    },\n    destination: {\n      country: "US"\n      region: "TX"\n      city: "Austin"\n      zipcode: "78735"\n\n    },\n      siteDetails: {\n          appVersion: "1.0.0",\n          ecommerceCart: "Your Integrated Platform",\n          ecommerceVersion: "1.0.0",\n          websiteUrl: "www.yoursite.com",\n          ipAddress: "0.0.0.0"\n      }\n  }) {\n    transactionId\n    carriers {\n      carrierCode\n      carrierTitle\n      carrierType\n      error {\n        errorCode\n        internalErrorMessage\n        externalErrorMessage\n        priority\n      }\n      shippingRates {\n        code\n        title\n        totalCharges\n      }\n    }\n    errors {\n      errorCode\n      internalErrorMessage\n      externalErrorMessage\n      priority\n    }\n  }\n}\n')),(0,a.kt)("h3",{id:"rate-response-example"},"Rate Response Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},'{\n  "data": {\n    "retrieveShippingQuote": {\n     "transactionId": "SHQ_20210916_1239_21508121",\n            "carriers": [\n                {\n                    "carrierCode": "shqcustom1",\n                    "carrierTitle": "Home Delivery",\n                    "shippingRates": [\n                        {\n                            "code": "Standard",\n                            "title": "Standard",\n                            "totalCharges": 55.00\n                        }\n                    ],\n                    "error": null\n                },\n                {\n                    "carrierCode": "shqfedex3",\n                    "carrierTitle": "FedEx\xae",\n                    "shippingRates": [\n                        {\n                            "code": "FEDEX_GROUND",\n                            "title": "Ground",\n                            "totalCharges": 12.09\n                        },\n                        {\n                            "code": "STANDARD_OVERNIGHT",\n                            "title": "Standard Overnight",\n                            "totalCharges": 37.81\n                        }\n                    ],\n                    "error": null\n                },\n                {\n                    "carrierCode": "shqfedex2",\n                    "carrierTitle": "FedEx",\n                    "shippingRates": [],\n                    "error": {\n                        "errorCode": 508,\n                        "internalErrorMessage": "No Valid Rates found for Carrier",\n                        "externalErrorMessage": null,\n                        "priority": 999\n                    }\n                }\n            ],\n            "errors": null\n        }\n  }\n}\n')),(0,a.kt)("h2",{id:"retrievefullshippingquote"},(0,a.kt)("inlineCode",{parentName:"h2"},"retrieveFullShippingQuote")),(0,a.kt)("p",null,"Use this API request to retrieve detailed shipping rate information including packages, detailed information on shipping rates, date information, rates for each shipment in a multi-origin request."),(0,a.kt)("p",null,"Some example queries are below. For each of these queries, you can submit the ",(0,a.kt)("inlineCode",{parentName:"p"},"ratingInfo")," variable."),(0,a.kt)("h3",{id:"example-variables"},"Example Variables"),(0,a.kt)("p",null,"These must be included in the variables section of your GraphQL client. This example is a basic ",(0,a.kt)("inlineCode",{parentName:"p"},"ratingInfo")," object showing item attributes"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},'{\n  "ratingInfo": {\n    "cart": {\n      "items": [{\n        "itemId": "57",\n        "sku": "25-MB01",\n        "storePrice": 34,\n        "weight": 1,\n        "qty": 1,\n        "type": "SIMPLE",\n        "basePrice": 34,\n        "taxInclBasePrice": null,\n        "taxInclStorePrice": 34,\n        "discountPercent": null,\n        "discountedBasePrice": null,\n        "discountedStorePrice": null,\n        "discountedTaxInclBasePrice": null,\n        "discountedTaxInclStorePrice": null,\n        "attributes": [{\n          "name": "shipperhq_warehouse",\n          "value": "CA Origin,NY Origin"\n        }],\n        "items": null\n      }],\n      "declaredValue": 34\n    },\n    "destination": {\n      "country": "US",\n      "region": "TX",\n      "city": "Austin",\n      "street": "5701 S MoPac Expy",\n      "street2": "#1821",\n      "zipcode": "78749"\n    },\n    "customer": {\n      "customerGroup": "NOT LOGGED IN"\n    },\n    "cartType": "STD",\n    "requestedOptions": null,\n    "siteDetails": {\n      "appVersion": "1.0.0",\n      "ecommerceCart": "Magento 2 Community",\n      "ecommerceVersion": "2.3.1",\n      "websiteUrl": "http://www.example.com",\n      "ipAddress": "12.34.567"\n    }\n  }\n}\n')),(0,a.kt)("h2",{id:"additional-examples"},"Additional Examples"),(0,a.kt)("p",null,"In this section, let's explore typical queries that may be useful on a regular basis."),(0,a.kt)("h3",{id:"example-retrieve-shipping-quote-with-scheduling-option"},"Example: Retrieve shipping quote with scheduling option"),(0,a.kt)("p",null,"This query fetches a more detailed copy of the shipping rates. It will show the full rate breakdown. Not all fields are included in this example, use the docs to see all available fields."),(0,a.kt)("p",null,"This example uses calendar functionality. You will need to have that enabled on your ShipperHQ account in order to see results with date information"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},"query RetrieveFullShippingQuote($ratingInfo: RatingInfoInput!) {\n  retrieveFullShippingQuote(ratingInfo: $ratingInfo) {\n    transactionId\n    validationStatus\n    shipments {\n      shipmentDetail {\n        name\n        shipmentId\n      }\n      carriers {\n        carrierDetail {\n          carrierCode\n          carrierTitle\n          carrierType\n        }\n        methods {\n          methodDetails {\n            methodCode\n            methodTitle\n            totalCharges\n          }\n        }\n        // highlight-start\n        calendarDate {\n          availableDeliveryDates\n        }\n        dateFormat\n        // highlight-end\n        error {\n          errorCode\n          internalErrorMessage\n          externalErrorMessage\n          priority\n        }\n      }\n      groupedItems {\n        itemId\n      }\n    }\n    errors {\n      errorCode\n      internalErrorMessage\n      externalErrorMessage\n      priority\n    }\n  }\n}\n")),(0,a.kt)("h3",{id:"example-rate-request-for-ltl-carriers"},"Example: Rate request for LTL carriers"),(0,a.kt)("p",null,"Typical request you might use if using LTL carriers - notice the ",(0,a.kt)("inlineCode",{parentName:"p"},"availableOptions"),". This example uses Freight LTL functionality. You will need to have the Freight LTL feature enabled on your ShipperHQ account and freight carriers set up in order to see results with ",(0,a.kt)("inlineCode",{parentName:"p"},"availableOptions")," information"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},"query RetrieveFullShippingQuote($ratingInfo: RatingInfoInput!) {\n  retrieveFullShippingQuote(ratingInfo: $ratingInfo) {\n    transactionId\n    validationStatus\n    shipments {\n      shipmentDetail {\n        name\n        shipmentId\n      }\n      carriers {\n        carrierDetail {\n          carrierCode\n          carrierTitle\n          carrierType\n        }\n        methods {\n          methodDetails {\n            methodCode\n            methodTitle\n            totalCharges\n          }\n        }\n        // highlight-start\n        availableOptions {\n          destinationType\n          insideDelivery\n          liftGateRequired\n          limitedDelivery\n          notifyRequired\n        }\n        //highlight-end\n        error {\n          errorCode\n          internalErrorMessage\n          externalErrorMessage\n          priority\n        }\n      }\n    }\n    errors {\n      errorCode\n      internalErrorMessage\n      externalErrorMessage\n      priority\n    }\n  }\n}\n")),(0,a.kt)("h3",{id:"example-rate-breakdown-for-multiple-shipments-or-origins"},"Example: Rate breakdown for multiple shipments or origins"),(0,a.kt)("p",null,"Fetches shipping rates and breakdown of rates for multiple shipments/warehouses. This query will fetch the merged shipping rate as well as a detailed breakdown of the shipping rates and packing information."),(0,a.kt)("p",null,"This example uses multi origin functionality. You will need the Multi Origin advanced feature enabled on your ShipperHQ account, and your request should include multiple items shipping from separate origins or warehouses."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=",title:""},"query RetrieveFullShippingQuote($ratingInfo: RatingInfoInput!) {\n  retrieveFullShippingQuote(ratingInfo: $ratingInfo) {\n    transactionId\n    validationStatus\n    shipments {\n      shipmentDetail {\n        name\n        shipmentId\n      }\n      carriers {\n        carrierDetail {\n          carrierCode\n          carrierTitle\n          carrierType\n        }\n        methods {\n          methodDetails {\n            methodCode\n            methodTitle\n            totalCharges\n          }\n          rateBreakdownList {\n            methodCode\n            carrierDetail {\n              carrierCode\n              carrierTitle\n            }\n            methodDetails {\n              totalCharges\n              methodTitle\n              methodCode\n            }\n            packages {\n              items {\n                qtyPacked\n                sku\n                weightPacked\n              }\n              packageDetail {\n                packageName\n                width\n                height\n                length\n                weight\n                declaredValue\n              }\n            }\n          }\n        }\n        packages {\n          items {\n            qtyPacked\n            sku\n            weightPacked\n          }\n          packageDetail {\n            packageName\n            width\n            height\n            length\n            weight\n            declaredValue\n          }\n        }\n        availableOptions {\n          destinationType\n          insideDelivery\n          liftGateRequired\n          limitedDelivery\n          notifyRequired\n        }\n        error {\n          errorCode\n          internalErrorMessage\n          externalErrorMessage\n          priority\n        }\n      }\n    }\n    errors {\n      errorCode\n      internalErrorMessage\n      externalErrorMessage\n      priority\n    }\n  }\n}\n")))}m.isMDXComponent=!0}}]);